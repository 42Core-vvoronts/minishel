<command_line> ::= <command> | <pipeline>

<pipeline> ::= <command> | <command> '|' <pipeline>

<command> ::= <simple_command> | <simple_command> <redirection_list>
<simple_command> ::= <builtin> | <executable> | <assignment>

<builtin> ::= "echo" | "cd" | "pwd" | "export" | "unset" | "env" | "exit"
<executable> ::= <path>
<assignment> ::= <word> '=' <word>

<path> ::= '/' <word_list> | './' <word_list> | '../' <word_list>
<word_list> ::= <word> | <word_list> '/' <word>

<redirection_list> ::= <redirection> | <redirection> <redirection_list>
<redirection> ::= '<' <word> | '>' <word> | '<<' <word> | '>>' <word>

<word> ::= <letter> | <word> <letter> | <word> <digit> | <word> '_'

<env_var> ::= '$' <word>
<status_var> ::= "$?"

<letter> ::= a | b | c | d | e | f | g | h | i | j | k | l | m | n | o | p | q | r | s | t | u | v | w | x | y | z | 
             A | B | C | D | E | F | G | H | I | J | K | L | M | N | O | P | Q | R | S | T | U | V | W | X | Y | Z
<digit> ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9

<quote> ::= '"' | '\''

<input_handling> ::= "ctrl-C" | "ctrl-D" | "ctrl-\\"

<error_handling> ::= <unclosed_quote> | <invalid_char>
<unclosed_quote> ::= 'Unclosed quote error'
<invalid_char> ::= 'Invalid character error'

------------------------------------------------------------
### 2. Syntax Rules to Check in the AST
When constructing or validating the AST from the parsed tokens, you should enforce the following syntax rules:

#### General Rules:
1. **Pipeline Validity**:  
   - A pipeline must consist of valid commands connected by `'|'`.
   - A pipeline cannot start or end with `'|'`.

2. **Command Validity**:  
   - A command must consist of a `<simple_command>` and an optional `<redirection_list>`.
   - `<simple_command>` must be either a `<builtin>`, an `<executable>`, or an `<assignment>`.

3. **Redirection Rules**:  
   - `<` and `<<` must be followed by a valid `<word>` (input file or delimiter).
   - `>` and `>>` must be followed by a valid `<word>` (output file).
   - Redirections cannot precede a pipeline operator.

4. **Word and Variable Rules**:  
   - `<word>` must consist of valid letters, digits, or `_`.
   - `$<word>` must match a valid environment variable format.
   - `$?` is allowed as a special variable.

5. **Quoting Rules**:  
   - Single quotes prevent interpretation of all special characters.
   - Double quotes allow `$` and `$?` expansion but escape other characters.
   - Quotes must be closed.

#### Error Handling:
- Detect and handle:
  - Unclosed quotes.
  - Invalid characters (e.g., special characters not supported in your shell).
  - Redirection misuse (e.g., multiple consecutive redirections without a target).

These rules ensure the AST reflects valid Bash-like syntax while adhering to your projectâ€™s constraints. Let me know if you need specific implementation suggestions!